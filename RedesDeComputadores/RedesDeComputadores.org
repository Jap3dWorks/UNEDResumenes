#+title: RedesDeComputadores
#+author: Jordi Amposta Pérez
#+startup: latexpreview overview

* Introducción
** Transmisión de datos
*** Componentes
- Mensaje
- Emisor
- Receptor
- Medio
- Protocolo

*** Flujo de datos
- *Simplex*, comunicación unidireccional.
- *Semidúplex*, Bidireccional pero no al mismo tiempo.
- *Full-dúplex*, Bidireccional simultáneamente.

** Redes
*** Criterios a satisfacer 
- *Rendimiento*, tiempo de tránsito y de respuesta.
      - Se suelen usar dos métricas
            - Tasa de transferencia efectiva
            - Latencia
- *Fiabilidad*, exactitud de la entrega.
- *Seguridad*, protección frente accesos no autorizados.
        
*** Estructuras físicas
- *Tipo de conexión*.
      - *Punto a punto*, enlace dedicado entre dos puntos.
            - La mayoría usan cables.
      - *Multipunto*, varios dispositivos comparten el mismo enlace (y la capacidad del canal).
            - *compartida especialmente*, varios dispositivos pueden usar el enlace de forma simultánea.
            - *tiempo compartido*, Los usuarios comparten la línea por turnos.

- *Topología Física*.
      - Forma física en la que está diseñada la red.
      - *Topología en malla*, Cada dispositivo tiene un enlace punto a punto con cualquier otro dispositivo.
            - $N_{con} = \frac{n(n-1)}{2}$

      - *Topología en estrella*.
            - Cada dispositivo tiene un enlace punto a punto con el concentrador cental (hub).
                  - concentrador o conmutador (conmutador es mejor).
            - Más barata que la tolopología en malla.
            - Es una topología robusta.
                  - Ante cualquier error puede usarse el concentrador como monitor.
            - Muy usada en redes LAN.

      - *Topolgía de bus*.
            - Conexión multipunto.
            - Todos los dispositivos se conectan a un cable troncal(bus).
            - Los dispositivos se conectan usando sondas o latiguillos.
            - En el bus parte de la energía se disipa en forma de calor.
                  - Hay un límite en la longitud del cable troncal.
                  - Hay límite en la candidad de conexiones al bus.
            - Todos los dispositivos pueden leer el bus, no asegura la privacidad.
            - Es de instalación sencilla.
            - Es dificil aislar los fallos.
            - Es difici añadir nuevos dispositivos a la red una vez el bus se ha diseñado e instalado.
            - Un fallo o rotura en el bus puede desconectar toda la red.

      - *Topología en anillo*.
            - Cada dispositivo tiene una conexión punto a punto
              con los otros dos dispositivos que están a sus lados.
            - Cada dispositivo del anillo implementa un repetidor.
            - Es fácil detectar y aislar fallos.
            - Puede ser frágil si falla un nodo de la red.

*** Tipos Redes
**** LAN
- Local Area Network
- Conecta hosts de una única oficina, edifiio o campus.
- Cada host de la lan tiene un identificador (ipv4).
- Actualmente los hosts se conectan usando un conmutador (switch) (topología de estrella).
      - Antiguamente se usaba un bus.

**** WAN
- Wide Area Network
- Alcance geográfico más extenso, una ciudad, un estado, un país o incluso el mundo.
- Conecta dispositivos de conexión como conmutadores, enrutadores o modems.
- Dos tipos de WAN
      - *WAN punto a punto*, Conecta dos dispositivos de comunicación a través de un medio.
      - *WAN conmutada*.
            - Red con más de dos extremos.
            - Varias Wan punto a punto conectadas por conmutadores.
            - Vertebra la conmunicación actual.
- *interred* o *internet*, dos o más redes conectadas (WAN o LAN).
      - Internet son muchas redes conmutadas.

*** Internet
- Es la red de redes más notable, Internet con I.
- Es una colaboración de cientos de miles de redes interconectadas.
- Acceso a Internet
      - *Usando redes telefónicas*
            - Servicio marcación
            - Servicio DSL
      - *Usando cables de Red*
      - *Usando redes inalámbricas*
      - *Conexión directa a internet*

*** Historia de Internet
- *ARPANET*, 

*** Normas y Administración de Internet
- *Borrador* draft, documento de trabajo sin estatus.
- *RFC*, request for comments, bajo recomendación de las autoridades un borrador se puede publicar como rfc.
- Niveles de madurez de un RFC
      - *Norma Propuesta*
      - *Proyecto estandar*
      - *Estándar de Internet*
      - *Histórico*
      - *Experimental*
      - *Informativo*
- Niveles de requerimientos
      - *Requerido*
      - *Recomendado*
      - *Optativo*
      - *De uso limitado*
      - *No recomendado*

*** Administraión de Internet
- *ISOC*, Internet society, presta apoyo al proceso de creación de normas de internet.
- *IAB*, Junta de arquitectura de internet, Asesor técnico de la ISOC.
      - Supervisa el desarrollo de los protocolos ISP/IP.
- *IETF*, Grupo de trabajo de ingeniería de Internet, Internet Engineering Task Force.
      - Responsable de encontrar problemas operacionales y recomendar soluciones.
- *IRTF*, Internet Research Task Force.
      - Se centra en encontrar soluciones a largo plazo.


* Modelos de Red
** Principios de la arquitectura por niveles
- *Primer Principio*, Cada nivel debe realizar dos tareas opuestas.
  Por ejemplo escuchar en una direccióny hablar en la otra.
- *Segundo Principio*, Los dos objetos en cada nivel en ambos sitios deben ser idénticos.

** Niveles protocolos TCP/IP
*** Capas y mensajes

| capa            | paquete                         | cabeceras                               | Direccionamiento                     |
|-----------------+---------------------------------+-----------------------------------------+--------------------------------------|
| Aplicación      | Mensaje                         | [mensaje]                               | Nombres                              |
| Transporte      | segmento / datagrama de usuario | [c.trasporte][mensaje]                  | Número de puerto                     |
| Red             | datagrama de red                | [c.red][c.transporte][mensaje]          | Direcciones lógicas (IP)             |
| Enlace de Datos | trama                           | [c.datos][c.red][c.transporte][mensaje] | Direcciones de nivel de enlace (MAC) |
| Físico          | bits                            | --                                      | --                                   |

*** Multiplexación y demultiplexación
- *Multiplexación*, Un protocolo de un nivel puede encapsular varios protocolos del nivel superior.
      - ftp y http se encapsulan en tcp.
- *Demultiplexación*, Un protocolo puede desencapsular y entregar paquetes a varios protocolos de nivel superior.
      - IP puede entregar a TCP y UDP

** Modelo OSI
- OSI es un modelo para entender y diseñar una arquitectura de red que sea flexible, robusta e interoperable.
- ISO es la organización, OSI es el modelo.
- Careció de éxito.
- Niveles
  | capa            | relativo tcp/ip |
  |-----------------+-----------------|
  | Aplicación      | Aplicación      |
  | Presentación    | Aplicación      |
  | Sesión          | Aplicación      |
  | Transporte      | Transporte      |
  | Red             | Red             |
  | Enlace de datos | Enlace de datos |
  | Físico          | Físico          |


* Nivel físico
- Paquete: bits
- Transporta los bits individuales del nivel de enlace.
      - Señales electromagnéticas.

** Datos y señales
- *Datos analógicos*, la información es continua.
- *Datos digitales*, la información es discreta.
- *Señal periódica*, completa una pauta dentro de un marco temporal mesurable.
- *Señal no periódica*, cambia sin exhibir un patrón o ciclo.

** Señales periódicas analógicas
*** Señal simple
- *señal simple*, una onda seno.
- *Amplitud pico*, valor absoluto de su mayor intensidad.
- *Periodo*, cantidad de segundos en completar un ciclo.
      - $T = \frac{1}{f}$
      - Unidad segundos $s$
- *Frecuencia*, número de periodos en 1 segundo.
      - $f = \frac{1}{T}$
      - Unidad Herzios $Hz$.
      - Si una señal no cambia nunca su frecuencia es $0 Hz$.
      - Si una señal cambia instantáneamente su frecuecnia es $\infty Hz$

- *Fase* o desplazamiento de fase, describe la posición de la forma de la onda en el tiempo 0.
      - Unidad: grados o radianes.

- *Longitud de onda*, vincula el periodo o frecuencia con *velocidad de propagación*.
      - La longitud de onda depende del medio (medios con mayor o menos velocidad de propagación).
      - $\lambda = c \cdot T = \frac{c}{f}$
            - $\lambda$, longitud de onda.
            - $c$, velocidad de propagación.
            - $T$, Periodo.
            - $f$, frecuencia.

*** Señal compuesta
- *Señal compuesta*, compuesta por múltiples onda seno.
- Según el analisis de Fourier, cualquier señal compuesta esuna combinación de ondas senoidales simples
  con diferentes frecuencias, amplitudes y fases.
- Una señal compuesta periódica puede descomponerse en un número finito de ondas seno
  con frecuencia discreta, números naturales.
- Una señal compuesta no periódica está compuesta de infinitas ondas seno simple,
  con frecuencias de valor real.
- *Frecuencia fundamental o Primer armónico*, onda seno simple con la misma frecuencia $f$ que la señal compuesta.
      - *segundo, tercer, ... armónico*: $a \cdot f\ | \ a \in \mathbb{N},\ a > 1$.
        
*** Ancho de banda
- *Ancho de banda*, Rango de frecuencias que contiene una señal compuesta.
      - $[f_{min}, f_{max}] \to B = f_{max} - f_{min} \ Hz$
            - $B$, el ancho de banda.
            - $f_{min}$, frecuencia mínima.
            - $f_{max}$, frecuencia máxima.

** Señales digitales
- Codificamos bits en niveles de una señal.
- Puede tener más de un nivel.
- *número bits por nivel* = $log_2{n}$
      - $n$, número de niveles.

*** Tasa de bits
- La mayoría de señales digitales no son periódicas.
- número de bits enviados en un segundo (bps).
- *Intévalo de bit*, velocidad propagación x duración del bit

*** Transmisión de señales digitales
- Una señal digital es una señal analógica compuesta por un ancho de banda infinito.
      - No es posible en la vida real.
- *Transmisión en banda base*
      - consiste en enviar una señal digital sin cambiar a una señal analógica.
            - Las ondas preservan la forma digital.
      - Requiere de un *canal paso-baja*.
            - Canal con un ancho de banda que comienza en 0.
            - Transmitir en *banda base* una señal digital que preserva su forma solo es posible con un
              ancho de banda infinito y muy grande.
      - $B=\frac{N}{2}$
            - $B$, ancho de banda analógico.
            - $N$, número de bits a enviar.
            - Se divide entre 2 porque en el peor caso sería 10101010...,
              como la señal seno en un periodo tiene un pico positivo y uno negativo,
              en un periodo puede transmitir dos bits como máximo.
      - Podemos añadir armónicos para mejorar la forma de la señal, en este caso.
      - $B = \frac{aN}{2}$.
            - $a$ es el armónico mayor que vamos a usar.

- *Transmisión en banda ancha*
      - Usando modulación (por ejemplo modificar la amplitud de la onda).
      - Implica cambiar la señal digital a analógica.
            - Permite el uso de un *canal paso-banda*.
                  - Canal con un ancho de banda que NO empieza en 0.
        
** Deterioro de la transmisión  
*** Atenuación
- Pérdida de energía (normalmente pérdida de poténcia).
      - Poténcia: $P=V \cdot I = \frac{E}{t} = I^2 \cdot R$
- Se usan *amplificadores* para compensar la pérdida de energía de las señales.
- *Decibelio*: mide las potencias relativas de dos señales.
      - $dB = 10\ log_{10}\frac{P_2}{P_1}$
            - positivo aumenta, negativo disminuye
      - $dB_f = \sum dB_i \quad : \quad i \in \mathbb{N}$
            - decibelio resultante es la suma de decibelios intermedios.

*** Distorsion
- Una señal cambia la forma de su onda.
- Ocurre en una señal compuesta cada señal componente tiene su propia propagación.

*** Ruido
- *Ruido térmico*, movimiento aleatorio de electrones en un cable.
- *Ruido inducido*, fuentes externas (motores, electrodomésticos).
- *Cruces de comunicaciones*, se debe al efecto de un cable roto.
- *Ruido de impulso*, un pico de potencia que viene de líneas de potencia, iluminación, etc.
- *Relación señal/ruido (SNR)*
      - Relación entre la señal y el ruido.
      - $SNR = \frac{\bar{P_s}}{\bar{P_r}}$
            - $\bar{P_s}$ potencia media de la señal.
            - $\bar{P_r}$ potencia media del ruido.
      - $SNR_{dB} = 10\ log_{10}SNR$
            - Se describe a menudo en decibelios.

** Límites de la velocidad de transmisión
- bps, la velocidad depende de:
      - Ancho de banda
      - Niveles de las señales que usamios
      - Calidad del canal (nivel de ruido)

*** Canal sin ruido, tasa de bits de Nyquist
- $Tasa\ bits = 2 \times B \times log_2L$
      - $Tasa\ bits$, bps.
      - $B$, ancho de banda.
      - $L$, niveles.
      - 2 porque un periodo puede aportar hasta dos bits.
- Incrementar demasiado los niveles de la señal disminuye la fiabilidad.

*** Canal con ruido: capacidad de Shannon
- $C = B \times log_2(1 + SNR)$
      - $C$, capacidad del canal en bps.
      - $B$, ancho de banda
- No importa los niveles $L$ que tengamos, No se puede conseguir una velocidad mayor que la capacidad del canal.

*** Usando ambos límites
- Con la capacidad de Shannon encontramos el límite superior.
- Con Nyquist definimos los niveles para la tasa deseada inferior al nivel superior.

** Rendimiento
- Términos para hablar de rendimiento

*** Ancho de Banda
- *Ancho banda en hercios*, Rango de frecuencias.
- *Ancho banda en bps*, número de bits por segundo de un canal.
- Mayor ancho de banda en hercios mayor ancho de banda en bps.

*** Tasa de transferencia relativa (throughput)
- bps reales de un canal, siempre es inferior al ancho de banda del canal.
- Se de a congestiones y otras causas.

*** Latencia
- Cuanto tarda un mensaje completo en llegar a su destinatario desde la salida del primer bit en la fuente.
- *Latencia = tiempo propagación + tiempo de transmisión + tiempo de cola + retardo de proceso*
- *Tiempo Propagación*
      - tiempo de viaje de un bit desde el origen al destino
      - *Tiempo propagación = distancia/velocidad de propagación*
- *Tiempo de transmisión*
      - *Tiempo de transmisión = tamaño del mensaje / ancho de banda (bps)*
- *Tiempo de cola*
      - Tiempo necesario para que cada dispositivo intermedio mantenga el mensaje en espera
        antes de que pueda ser procesado.

*** Producto ancho de banda - retardo
- número de bits que llenaría el canal.
- *2 x ancho de banda (Hz) x retardo*
      - Tamaño de cada ráfaga para aprovechar la capacidad del enlace.

*** Fluctuación del retardo (jitter)
- Los paquetes llegan con distintos retardos.
- Puede ser un problema para aplicaciones sensibles al tiempo.

** Codificación de línea
- Convertir datos digitales en señales digitales.
  
*** Características
- *Elemento señal frente a elemento de datos*
      - *Elemento dato*, la unidad más pequeña de información (bit).
      - *Elemento señal*, unidad más corta en el tiempo de una señal digital.
      - Elementos dato son transportados elementos señal son portadores.
            - Tasa $r$, elementos dato transportados por una señal.
- *Tasa de datos frente a tasa de señales*
      - Tasa de datos son los bps
      - *Tasa de señales*, número de elementos señal enviados en 1 segundo (*baudios*).
            - También se conoce como tasa de pulsos, tasa de modulación o tasa de baudios.
      - Se busca incrementar tasa de datos y reducir tasa de señales.
      - $S = N/r$
            - $S$, Tasas de señales.
            - $N$, Tasa de datos (bps).
            - $r$. elementos dato por cada señal.
      - $S_{ave}=c \times N \times \frac{1}{r}\ baudios$
            - $S_{ave}$, señales promedio.
            - $c$, factor de caso, varia en cada caso.
      - $B_{min} = c \times N \times \frac{1}{r}$
            - $B_{min}$, ancho de banda de frecuencias mínimo
      - $N_{max} = \frac{Br}{c}$
            - Si se conoce el ancho de banda de frecuencias se puede determinar la tasa de bits máxima.
- *Variaciones de la línea base*.
      - Media de la potencia recibida.
      - Se identifican 1 o 0 comparando la señal con la línea base.
- *Componendes DC* (corriente continua)
      - Frecuencias bajas que aparecen con señales de voltaje constante.
      - Pueden ser problemáticos con algunos dispositivos.
- *Autosincronización*
      - Los intérvalos del emisor deben coincidir con los intérvalos del receptor.
- *Detección de errores incorporada*
      - capacidad de detección de errores en el codigo generado.
- *Inmunidad al ruido y las interferencias*
      - que el esquema de codificación es inmune al ruido y las interferencias.
- *Complejidad*
      - Un esquema complejo es más costoso de implementar.

*** Esquemas de codificación de línea
**** Unipolar
- Todos los niveles de señal se encuentran a un lado del eje del tiempo.
- *NRZ* (sin retorno a cero)
      - bit como 1 voltaje positivo
      - bit como 0 voltaje 0
      - 
         [[file:images/NRZUnipolar.png]]
**** Esquemas Polares
- Voltajes a ambos lados del eje del tiempo.
- *NRZ* (sin retorno a cero)
      - *NRZ-L*, voltaje determinal el valor del bit
      - *NRZ_I*, La inversión del voltaje determina el valor del bit
            - Si el voltaje cambia bit=1, 0 si no cambia.
      - 
        [[file:images/NRZBipolar.png]]
      - Tasa de señal media N/2 baudios
      - Tienen problemas de componentes DC.
- *RZ* (con retorno a cero)
      - La señal cambia durante el bit
      - Evita problemas de componentes DC
      - Mejora la sincronización entre emisor y receptor
      - 
        [[file:images/RZPolar.png]]
- *Bifásica*
      - *Manchester*
            - RZ + NRZ-L
            - El bit se divide en 2 el voltaje cambia en la segunda mitad.
            - 
              [[file:images/ManchesterPolar.png]]
      - Manchester Diferencial
            - RZ + NRZ-I
            - El bit se divide en 2, al inicio del bit se invierte si el bit es 0.
              no se invierte si el bit es 1.
            - 
              # TODO manchester differencial diagram
      - La transición a mitad del bit ofrece sincronización.
      - El ancho de banda mínimo es dos veces NRZ.

**** Esquemas Bipolares
- Voltajes de tres niveles positivo, negativo y cero.
- AMI
- pseudoternaria
**** Esquemas Multinivel
- 2B/1Q
- 8B/6T
- 4D-PAM5
**** Multitransmisión
- MLT-3

** Conversión analógica a digital  

* Nivel Enlace de Datos
- Paquete: trama.
- Los enrutadores son los responsables de elegir los mejores enlaces entre redes.
      - Cuando un enrutador elige el siguiente enlace, el nivel de enlace es responsable de tomar el datagrama y moverlo a través del enlace.
      - 

* Nivel de Red
- Paquete: datagrama de red.
- Responsable de la conexión lógica entre el dispositivo origen y destino.
- Incluye el protocolo principal IP.
      - IP es un protocolo sin conexión.
      - Sin control de flujo.
      - Sin control de errores.

(ICMP, ARP, DHCP, IGMP, )

* Nivel de Transporte
- Paquete: datagrama de usuario.
- Responsable de la comunicación lógica entre aplicaciones.
- Da servicio al nivel de aplicación.
- Gestiona el tráfico
  
** UDP

** TCP

** SCTP

* Nivel de Aplicación
- Comunicación entre dos programas.
- Programadores pueden crear nuevos protocolos.

* Glosario
- *Paquete*, En una red informática es el bloque de datos en la comunicación entre dos extremos.
- *ISP*, proveedores de servicios de internet.
- *Puntos de peering*, puntos de intercambio directo entre dos o más redes independientes.
- *conmutador*, conmuta conexiones entre dispositivos de una misma red.
- *enrutador*, conecta redes diferentes y decide por donde van los datos.
- *modem*, Convierte señales.
- *TLS*, Saltos de enrutamiento máximos.
- *SSID*, nombre de una red inalámbrica.
- *RTT*, Round-Trip time, tiempo de envío de un paquete y llegada del ACK (TCP).
      - $RTT_M$,
      - $RTT_S$,
      - *Desviación RTT*, Calculo de la desviación RTT
- *RTO*, tiempo de retransmisión, se basa en el RTT suavizado y su desviación.

** Unidades
- Periodo y frecuencia
  | Periodo               |             | Frecuencia       |             |
  | Unidad                | Equivalente | Unidad           | Equivalente |
  |-----------------------+-------------+------------------+-------------|
  | Segundos (s)          | 1 s         | Herzio (Hz)      | 1 Hz        |
  | Milisegundos (ms)     | 10^{-3} s   | Kiloherzio (kHz) | 10^{3} Hz   |
  | Microsegundos (\mu s) | 10^{-6} s   | Megaherzio (MHz) | 10^{6} Hz   |
  | Nanosegundos (ns)     | 10^{-9} s   | Gigaherzio (GHz) | 10^{9} Hz   |
  | Picosegundos (ps)     | 10^{-12} s  | Teraherzio (THz) | 10^{12} Hz  |


* Recursos
- Link a los recursos del texto base.
   [[https://highered.mheducation.com/sites/0073376221/student_view0/chapter1/]]

   
